<!DOCTYPE html>
<html lang="en" ng-app="fiManagerApp"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../img/favicon.ico" type="image/x-icon">
	<link rel="icon" href="../../img/favicon.ico" type="image/x-icon">

    <title>FI-Impact Report</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../../css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/bootstrap-theme.min.css" rel="stylesheet">
	<!-- Optional includes -->
	<link rel="stylesheet" href="../../css/jquery.tablesorter.pager.min.css">
    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="../../css/theme.css" rel="stylesheet">
	<link rel="stylesheet" href="../../css/theme.blue.css" rel="stylesheet">
	<link rel="stylesheet" href="../../css/visualisations.css" rel="stylesheet">
	<!-- External CSS -->
	<link rel="stylesheet" href="../../css/font-awesome.min.css">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets../../js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!-- <script src="../../js/ie-emulation-modes-warning.js"></script> -->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  
  <body role="document" ng-controller="fiCtrl" ng-cloak>
  
    <div class="container theme-showcase" role="main">
		
		<div  style="height: 160px;"><img src="../../css/fi-impact.png"></div>
		 <!-- background: top left url('css/fi-impact.png') no-repeat; -->
    	<div class="jumbotron">
			<h1>Projects Overview</h1>
			<div class="pull-right">
				<i class="fa fa-user" aria-hidden="true"></i> {{profile.user}}
				<div class="btn-group" role="group" style="margin-left: 10px">
				  <button id="btnUpload" data-toggle="modal" data-target="#uploadModal" type="button" class="btn" ng-class="{'btn-primary': profile.upload, 'btn-secondary': !profile.upload}" ng-disabled="!profile.upload">Upload</button>
				  <a class="btn" ng-class="{'btn-primary': profile.export, 'btn-secondary': !profile.export}" ng-disabled="!profile.export" href="../../manager?action=export">Export</a>
				</div>
				<a class="btn btn-primary" href="../../logout.jsp">Logout</a>
			</div>
		</div>
		
        <table id="listing" class="table table-striped">
			<thead><tr><th>Project</th><th>Feasibility</th><th>Innovation</th><th>Market</th><th>Market Needs</th>
				<th>Accelerator</th><th>Organisation</th><th>Country</th></tr></thead> 
            <tbody><tr ng-repeat="s in surveys"><td><a href="../../ui/user/report.html?id={{s.id_internal}}">{{s.Q1_4}}</a>
				<div ng-bind-html="s.lineChart | sanitize"></div></td>
				<td class="textRight">{{s.feasibility}}%</td><td class="textRight">{{s.innovation}}%</td><td class="textRight">{{s.market}}%</td><td class="textRight">{{s.business}}%</td>
				<td>{{s.Q1_1}}</td><td>{{s.Q1_3}}</td><td>{{s.Q1_2}}</td></tr></tbody>
        </table>
		
		<!-- pager --> 
		<div class="pager">
			<i class="first fa fa-angle-double-left"></i>	<i class="prev fa fa-angle-left"></i>
			<span class="pagedisplay"></span> <!-- this can be any element, including an input -->
			<i class="next fa fa-angle-right"></i>	<i class="last fa fa-angle-double-right"></i>
			<select class="gotoPage" title="Select page number"></select>
		</div>

		<p style="text-align: center;">	<a href="http://idcitalia.com/ita/" target="_blank"><img style="margin-left: 0px; margin-right: 10px;" src="../../css/IDC_logo_4.png" alt="" width="120" height="57" /></a>
			<a href="http://www.idg.co.uk/" target="_blank"><img style="margin-left: 10px; margin-right: 10px;" src="../../css/IDG_Communications1_3.jpg" alt="" width="120" height="35" /></a>
			<a href="http://www.bluegreenstrategy.com/" target="_blank"><img style="margin-left: 10px; margin-right: 10px;" src="../../css/logotipo_bluegreen_04_v02_small_3.png" alt="" width="150" height="34" /></a>
			<a href="http://www.iimg.com" target="_blank"><img style="margin-left: 10px; margin-right: 10px;" src="../../css/iimc.gif" alt="" width="138" height="36" /></a>
			<img style="margin-left: 10px; margin-right: 10px;" src="../../css/SFC_2.jpg" alt="" width="150" height="50" />
			<a href="http://ailab.ijs.si/" target="_blank"><img style="margin-left: 10px; margin-right: 0px;" src="../../css/jsi_logo_2.png" alt="" width="150" height="43" /></a></p>
	  
    </div>

	<div id="uploadModal" class="modal fade" data-backdrop="static" data-keyboard="false" role="dialog">
	  <div class="modal-dialog">

		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header"><h4 class="modal-title">Mattermark Import</h4></div>
			<div class="modal-body">
				<ul class="nav nav-tabs" role="tablist">
					<li role="presentation" ng-class="{'active': uploadTab == 'tabNotice'}"><a>Notice</a></li>
					<li role="presentation" ng-class="{'active': uploadTab == 'tabFile'}"><a>Choose file</a></li>
					<li role="presentation" ng-class="{'active': uploadTab == 'tabUpload'}"><a>Uploading</a></li>
					<li role="presentation" ng-class="{'active': uploadTab == 'tabReview'}"><a>Review</a></li>
				</ul>

				  <!-- Tab panes -->
				  <div class="tab-content">
					<div role="tabpanel" class="tab-pane active" id="tabNotice">
						<p style="margin: 20px 0;">Here you can upload Mattermark data files.</p>
						<a class="btn btn-default cancel" data-dismiss="modal">Cancel</a>
						<a class="btn btn-primary" href="#tabFile" aria-controls="tabFile" role="tab" data-toggle="tab" ng-click="toggleTab('tabFile')">Continue</a>
					</div>
					<div role="tabpanel" class="tab-pane" id="tabFile">
						<form name="upload" class="form-control-file">
							<input id="uploadInput" type="file" name="file" class="file" file-model="dataFile" ng-model-options="{ debounce: 1000 }" />	
						</form>
						<a class="btn btn-default cancel" href="#tabNotice" aria-controls="tabNotice" role="tab" data-toggle="tab" ng-click="toggleTab('tabNotice')" data-dismiss="modal">Cancel</a>
						<a class="btn btn-primary" href="#tabUpload" aria-controls="tabUpload" role="tab" data-toggle="tab" ng-click="uploadFile()">Upload File</a>
					</div>
					<div role="tabpanel" class="tab-pane" id="tabUpload">
						<div role="tabpanel" class="tab-pane" id="tabUpload">
							<p class="text-center"><i class="fa fa-spinner fa-pulse fa-5x fa-fw margin-bottom"></i><span class="sr-only">Uploading...</span></p>
							<a id="autoContinue" style="display: none" href="#tabReview" aria-controls="tabReview" role="tab" data-toggle="tab"></a>
						</div>
					</div>
					<div role="tabpanel" class="tab-pane" id="tabReview">
						<ul ng-show="uploadResult.success">
							<li ng-repeat="info in uploadResult.data"><span ng-repeat="(key, value) in info">{{key}}: {{value}}</span></li>
						</ul>
						<ul ng-show="!uploadResult.success">
							<li ng-repeat="info in uploadResult.data"><span ng-repeat="(key, value) in info">{{key}}: {{value}}</span></li>
						</ul>
						<a class="btn btn-primary" data-dismiss="modal">Done</a>
					</div>
				  </div>
				
			</div>	
		</div>

	  </div>
	</div>

    <!-- Core JavaScript -->
    <script src="../../js/jquery.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
    <script src="../../js/angular.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../js/ie10-viewport-bug-workaround.js"></script>
	<!-- Optional includes -->
	<script type="text/javascript" src="../../js/jquery.min.js"></script> 
	<script type="text/javascript" src="../../js/jquery.tablesorter.min.js"></script> 
	<script type="text/javascript" src="../../js/jquery.tablesorter.pager.min.js"></script>
	<!-- D3 JavaScript -->
	<script src="../../js/d3.min.js"></script>
	<script src="../../js/fiUtility.js"></script>
	<script src="../../js/fiModel.js"></script>
	<script src="../../js/fi.js"></script>
	<script src="../../js/fiCtrlManager.js"></script>
	<script>
		$(document).ready(
			function() { $("#listing").tablesorter(fiTableSorter).tablesorterPager(fiTableSorterPager);

			$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			  
			  //update progress
			  var step = $(e.target).data('step');
			  var percent = (parseInt(step) / 5) * 100;
			  
			  $('.progress-bar').css({width: percent + '%'});
			  $('.progress-bar').text("Step " + step + " of 5");
			  
			  //e.relatedTarget // previous tab
			  
			})

		});
	</script>

</body></html>